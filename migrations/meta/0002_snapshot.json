{
  "id": "67d0ac8e-1ba7-42ae-a60b-55e7c41556f3",
  "prevId": "28b8a8b0-a7e0-4dae-ad12-e2bb4f544178",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.ai_chat_messages": {
      "name": "ai_chat_messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tokens_used": {
          "name": "tokens_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "tool_calls": {
          "name": "tool_calls",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "ai_chat_messages_session_idx": {
          "name": "ai_chat_messages_session_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ai_chat_messages_created_at_idx": {
          "name": "ai_chat_messages_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ai_chat_messages_session_id_ai_chat_sessions_id_fk": {
          "name": "ai_chat_messages_session_id_ai_chat_sessions_id_fk",
          "tableFrom": "ai_chat_messages",
          "tableTo": "ai_chat_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ai_chat_sessions": {
      "name": "ai_chat_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_message_at": {
          "name": "last_message_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "message_count": {
          "name": "message_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "ai_chat_sessions_user_idx": {
          "name": "ai_chat_sessions_user_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ai_chat_sessions_last_message_idx": {
          "name": "ai_chat_sessions_last_message_idx",
          "columns": [
            {
              "expression": "last_message_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ai_chat_sessions_active_idx": {
          "name": "ai_chat_sessions_active_idx",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ai_chat_sessions_tenant_id_tenants_id_fk": {
          "name": "ai_chat_sessions_tenant_id_tenants_id_fk",
          "tableFrom": "ai_chat_sessions",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ai_chat_sessions_user_id_users_id_fk": {
          "name": "ai_chat_sessions_user_id_users_id_fk",
          "tableFrom": "ai_chat_sessions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ai_query_history": {
      "name": "ai_query_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "query": {
          "name": "query",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "context": {
          "name": "context",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "response": {
          "name": "response",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tokens_used": {
          "name": "tokens_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "response_time_ms": {
          "name": "response_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "helpful": {
          "name": "helpful",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "ai_query_user_idx": {
          "name": "ai_query_user_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ai_query_created_at_idx": {
          "name": "ai_query_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ai_query_history_tenant_id_tenants_id_fk": {
          "name": "ai_query_history_tenant_id_tenants_id_fk",
          "tableFrom": "ai_query_history",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ai_query_history_user_id_users_id_fk": {
          "name": "ai_query_history_user_id_users_id_fk",
          "tableFrom": "ai_query_history",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.analysis_results": {
      "name": "analysis_results",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "analysis_type": {
          "name": "analysis_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "input_data": {
          "name": "input_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "result": {
          "name": "result",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "success": {
          "name": "success",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "execution_time_ms": {
          "name": "execution_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "analysis_results_type_idx": {
          "name": "analysis_results_type_idx",
          "columns": [
            {
              "expression": "analysis_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "analysis_results_created_at_idx": {
          "name": "analysis_results_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "analysis_results_tenant_id_tenants_id_fk": {
          "name": "analysis_results_tenant_id_tenants_id_fk",
          "tableFrom": "analysis_results",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "analysis_results_created_by_users_id_fk": {
          "name": "analysis_results_created_by_users_id_fk",
          "tableFrom": "analysis_results",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.assignment_history": {
      "name": "assignment_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "block_id": {
          "name": "block_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "driver_id": {
          "name": "driver_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "contract_id": {
          "name": "contract_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "start_timestamp": {
          "name": "start_timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "canonical_start": {
          "name": "canonical_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "pattern_group": {
          "name": "pattern_group",
          "type": "pattern_group",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "cycle_id": {
          "name": "cycle_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "bump_minutes": {
          "name": "bump_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "is_auto_assigned": {
          "name": "is_auto_assigned",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "assignment_source": {
          "name": "assignment_source",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'manual'"
        },
        "assigned_at": {
          "name": "assigned_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "assigned_by": {
          "name": "assigned_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "assignment_history_driver_pattern_idx": {
          "name": "assignment_history_driver_pattern_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "driver_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "pattern_group",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "cycle_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "assignment_history_contract_idx": {
          "name": "assignment_history_contract_idx",
          "columns": [
            {
              "expression": "contract_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "pattern_group",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "assignment_history_time_idx": {
          "name": "assignment_history_time_idx",
          "columns": [
            {
              "expression": "assigned_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "assignment_history_tenant_id_tenants_id_fk": {
          "name": "assignment_history_tenant_id_tenants_id_fk",
          "tableFrom": "assignment_history",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assignment_history_block_id_blocks_id_fk": {
          "name": "assignment_history_block_id_blocks_id_fk",
          "tableFrom": "assignment_history",
          "tableTo": "blocks",
          "columnsFrom": [
            "block_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assignment_history_driver_id_drivers_id_fk": {
          "name": "assignment_history_driver_id_drivers_id_fk",
          "tableFrom": "assignment_history",
          "tableTo": "drivers",
          "columnsFrom": [
            "driver_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assignment_history_contract_id_contracts_id_fk": {
          "name": "assignment_history_contract_id_contracts_id_fk",
          "tableFrom": "assignment_history",
          "tableTo": "contracts",
          "columnsFrom": [
            "contract_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assignment_history_assigned_by_users_id_fk": {
          "name": "assignment_history_assigned_by_users_id_fk",
          "tableFrom": "assignment_history",
          "tableTo": "users",
          "columnsFrom": [
            "assigned_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.assignment_patterns": {
      "name": "assignment_patterns",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "block_signature": {
          "name": "block_signature",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "driver_id": {
          "name": "driver_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "weighted_count": {
          "name": "weighted_count",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "raw_count": {
          "name": "raw_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_assigned": {
          "name": "last_assigned",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "confidence": {
          "name": "confidence",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "decay_factor": {
          "name": "decay_factor",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0.8660'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "assignment_patterns_tenant_sig_driver_idx": {
          "name": "assignment_patterns_tenant_sig_driver_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "block_signature",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "driver_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "assignment_patterns_block_sig_idx": {
          "name": "assignment_patterns_block_sig_idx",
          "columns": [
            {
              "expression": "block_signature",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "assignment_patterns_driver_id_idx": {
          "name": "assignment_patterns_driver_id_idx",
          "columns": [
            {
              "expression": "driver_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "assignment_patterns_confidence_idx": {
          "name": "assignment_patterns_confidence_idx",
          "columns": [
            {
              "expression": "confidence",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "assignment_patterns_tenant_id_tenants_id_fk": {
          "name": "assignment_patterns_tenant_id_tenants_id_fk",
          "tableFrom": "assignment_patterns",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assignment_patterns_driver_id_drivers_id_fk": {
          "name": "assignment_patterns_driver_id_drivers_id_fk",
          "tableFrom": "assignment_patterns",
          "tableTo": "drivers",
          "columnsFrom": [
            "driver_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.assignment_predictions": {
      "name": "assignment_predictions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "shift_occurrence_id": {
          "name": "shift_occurrence_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "block_id": {
          "name": "block_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "recommended_driver_id": {
          "name": "recommended_driver_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "reasons": {
          "name": "reasons",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "alternative_drivers": {
          "name": "alternative_drivers",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "applied_to_schedule": {
          "name": "applied_to_schedule",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "applied_at": {
          "name": "applied_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "applied_by": {
          "name": "applied_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "predictions_occurrence_idx": {
          "name": "predictions_occurrence_idx",
          "columns": [
            {
              "expression": "shift_occurrence_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "predictions_driver_idx": {
          "name": "predictions_driver_idx",
          "columns": [
            {
              "expression": "recommended_driver_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "predictions_applied_idx": {
          "name": "predictions_applied_idx",
          "columns": [
            {
              "expression": "applied_to_schedule",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "assignment_predictions_tenant_id_tenants_id_fk": {
          "name": "assignment_predictions_tenant_id_tenants_id_fk",
          "tableFrom": "assignment_predictions",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assignment_predictions_shift_occurrence_id_shift_occurrences_id_fk": {
          "name": "assignment_predictions_shift_occurrence_id_shift_occurrences_id_fk",
          "tableFrom": "assignment_predictions",
          "tableTo": "shift_occurrences",
          "columnsFrom": [
            "shift_occurrence_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assignment_predictions_recommended_driver_id_drivers_id_fk": {
          "name": "assignment_predictions_recommended_driver_id_drivers_id_fk",
          "tableFrom": "assignment_predictions",
          "tableTo": "drivers",
          "columnsFrom": [
            "recommended_driver_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assignment_predictions_applied_by_users_id_fk": {
          "name": "assignment_predictions_applied_by_users_id_fk",
          "tableFrom": "assignment_predictions",
          "tableTo": "users",
          "columnsFrom": [
            "applied_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.auto_build_runs": {
      "name": "auto_build_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "target_week_start": {
          "name": "target_week_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "target_week_end": {
          "name": "target_week_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "suggestions": {
          "name": "suggestions",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "total_blocks": {
          "name": "total_blocks",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "high_confidence": {
          "name": "high_confidence",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "medium_confidence": {
          "name": "medium_confidence",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "low_confidence": {
          "name": "low_confidence",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "reviewed_by": {
          "name": "reviewed_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_at": {
          "name": "reviewed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "approved_block_ids": {
          "name": "approved_block_ids",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "auto_build_runs_target_week_idx": {
          "name": "auto_build_runs_target_week_idx",
          "columns": [
            {
              "expression": "target_week_start",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "target_week_end",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "auto_build_runs_status_idx": {
          "name": "auto_build_runs_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "auto_build_runs_tenant_id_tenants_id_fk": {
          "name": "auto_build_runs_tenant_id_tenants_id_fk",
          "tableFrom": "auto_build_runs",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "auto_build_runs_created_by_users_id_fk": {
          "name": "auto_build_runs_created_by_users_id_fk",
          "tableFrom": "auto_build_runs",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "auto_build_runs_reviewed_by_users_id_fk": {
          "name": "auto_build_runs_reviewed_by_users_id_fk",
          "tableFrom": "auto_build_runs",
          "tableTo": "users",
          "columnsFrom": [
            "reviewed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "auto_build_status_check": {
          "name": "auto_build_status_check",
          "value": "\"auto_build_runs\".\"status\" IN ('pending', 'approved', 'rejected', 'partial')"
        }
      },
      "isRLSEnabled": false
    },
    "public.block_assignments": {
      "name": "block_assignments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "block_id": {
          "name": "block_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "shift_occurrence_id": {
          "name": "shift_occurrence_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "driver_id": {
          "name": "driver_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "assigned_at": {
          "name": "assigned_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "assigned_by": {
          "name": "assigned_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "validation_status": {
          "name": "validation_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'valid'"
        },
        "validation_summary": {
          "name": "validation_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "archived_at": {
          "name": "archived_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "import_batch_id": {
          "name": "import_batch_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amazon_block_id": {
          "name": "amazon_block_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "block_assignments_tenant_block_idx": {
          "name": "block_assignments_tenant_block_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "block_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "\"block_assignments\".\"is_active\" = true AND \"block_assignments\".\"block_id\" IS NOT NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "block_assignments_tenant_shift_idx": {
          "name": "block_assignments_tenant_shift_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "shift_occurrence_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "\"block_assignments\".\"is_active\" = true AND \"block_assignments\".\"shift_occurrence_id\" IS NOT NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "block_assignments_driver_id_idx": {
          "name": "block_assignments_driver_id_idx",
          "columns": [
            {
              "expression": "driver_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "block_assignments_driver_time_idx": {
          "name": "block_assignments_driver_time_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "driver_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "assigned_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "block_assignments_shift_occurrence_id_idx": {
          "name": "block_assignments_shift_occurrence_id_idx",
          "columns": [
            {
              "expression": "shift_occurrence_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "block_assignments_tenant_id_tenants_id_fk": {
          "name": "block_assignments_tenant_id_tenants_id_fk",
          "tableFrom": "block_assignments",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "block_assignments_block_id_blocks_id_fk": {
          "name": "block_assignments_block_id_blocks_id_fk",
          "tableFrom": "block_assignments",
          "tableTo": "blocks",
          "columnsFrom": [
            "block_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "block_assignments_shift_occurrence_id_shift_occurrences_id_fk": {
          "name": "block_assignments_shift_occurrence_id_shift_occurrences_id_fk",
          "tableFrom": "block_assignments",
          "tableTo": "shift_occurrences",
          "columnsFrom": [
            "shift_occurrence_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "block_assignments_driver_id_drivers_id_fk": {
          "name": "block_assignments_driver_id_drivers_id_fk",
          "tableFrom": "block_assignments",
          "tableTo": "drivers",
          "columnsFrom": [
            "driver_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "block_assignments_assigned_by_users_id_fk": {
          "name": "block_assignments_assigned_by_users_id_fk",
          "tableFrom": "block_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "assigned_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.blocks": {
      "name": "blocks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "block_id": {
          "name": "block_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "service_date": {
          "name": "service_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "contract_id": {
          "name": "contract_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "start_timestamp": {
          "name": "start_timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "end_timestamp": {
          "name": "end_timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "tractor_id": {
          "name": "tractor_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "solo_type": {
          "name": "solo_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "duration": {
          "name": "duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'unassigned'"
        },
        "is_carryover": {
          "name": "is_carryover",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_rejected_load": {
          "name": "is_rejected_load",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "on_bench_status": {
          "name": "on_bench_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'on_bench'"
        },
        "off_bench_reason": {
          "name": "off_bench_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "pattern_group": {
          "name": "pattern_group",
          "type": "pattern_group",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "canonical_start": {
          "name": "canonical_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "cycle_id": {
          "name": "cycle_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "blocks_tenant_block_servicedate_idx": {
          "name": "blocks_tenant_block_servicedate_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "block_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "service_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "blocks_time_range_idx": {
          "name": "blocks_time_range_idx",
          "columns": [
            {
              "expression": "start_timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "end_timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "blocks_pattern_idx": {
          "name": "blocks_pattern_idx",
          "columns": [
            {
              "expression": "pattern_group",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "cycle_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "blocks_tenant_id_tenants_id_fk": {
          "name": "blocks_tenant_id_tenants_id_fk",
          "tableFrom": "blocks",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "blocks_contract_id_contracts_id_fk": {
          "name": "blocks_contract_id_contracts_id_fk",
          "tableFrom": "blocks",
          "tableTo": "contracts",
          "columnsFrom": [
            "contract_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.contracts": {
      "name": "contracts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "start_time": {
          "name": "start_time",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "tractor_id": {
          "name": "tractor_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "domicile": {
          "name": "domicile",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "''"
        },
        "duration": {
          "name": "duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "base_routes": {
          "name": "base_routes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "days_per_week": {
          "name": "days_per_week",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 6
        },
        "protected_drivers": {
          "name": "protected_drivers",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "contracts_tenant_id_tenants_id_fk": {
          "name": "contracts_tenant_id_tenants_id_fk",
          "tableFrom": "contracts",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.driver_availability_preferences": {
      "name": "driver_availability_preferences",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "driver_id": {
          "name": "driver_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "block_type": {
          "name": "block_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "start_time": {
          "name": "start_time",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "day_of_week": {
          "name": "day_of_week",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_available": {
          "name": "is_available",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "driver_pref_unique_idx": {
          "name": "driver_pref_unique_idx",
          "columns": [
            {
              "expression": "driver_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "block_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "start_time",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "day_of_week",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "driver_pref_driver_idx": {
          "name": "driver_pref_driver_idx",
          "columns": [
            {
              "expression": "driver_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "driver_availability_preferences_tenant_id_tenants_id_fk": {
          "name": "driver_availability_preferences_tenant_id_tenants_id_fk",
          "tableFrom": "driver_availability_preferences",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "driver_availability_preferences_driver_id_drivers_id_fk": {
          "name": "driver_availability_preferences_driver_id_drivers_id_fk",
          "tableFrom": "driver_availability_preferences",
          "tableTo": "drivers",
          "columnsFrom": [
            "driver_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.driver_contract_stats": {
      "name": "driver_contract_stats",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "driver_id": {
          "name": "driver_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "contract_id": {
          "name": "contract_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "pattern_group": {
          "name": "pattern_group",
          "type": "pattern_group",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "last_worked": {
          "name": "last_worked",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "total_assignments": {
          "name": "total_assignments",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "streak_count": {
          "name": "streak_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "avg_bump_minutes": {
          "name": "avg_bump_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_cycle_id": {
          "name": "last_cycle_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "driver_contract_stats_unique_idx": {
          "name": "driver_contract_stats_unique_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "driver_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "contract_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "pattern_group",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "driver_contract_stats_driver_idx": {
          "name": "driver_contract_stats_driver_idx",
          "columns": [
            {
              "expression": "driver_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "driver_contract_stats_contract_pattern_idx": {
          "name": "driver_contract_stats_contract_pattern_idx",
          "columns": [
            {
              "expression": "contract_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "pattern_group",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "driver_contract_stats_tenant_id_tenants_id_fk": {
          "name": "driver_contract_stats_tenant_id_tenants_id_fk",
          "tableFrom": "driver_contract_stats",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "driver_contract_stats_driver_id_drivers_id_fk": {
          "name": "driver_contract_stats_driver_id_drivers_id_fk",
          "tableFrom": "driver_contract_stats",
          "tableTo": "drivers",
          "columnsFrom": [
            "driver_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "driver_contract_stats_contract_id_contracts_id_fk": {
          "name": "driver_contract_stats_contract_id_contracts_id_fk",
          "tableFrom": "driver_contract_stats",
          "tableTo": "contracts",
          "columnsFrom": [
            "contract_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.drivers": {
      "name": "drivers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "first_name": {
          "name": "first_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "last_name": {
          "name": "last_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "license_number": {
          "name": "license_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "license_expiry": {
          "name": "license_expiry",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "phone_number": {
          "name": "phone_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "domicile": {
          "name": "domicile",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "profile_verified": {
          "name": "profile_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "load_eligible": {
          "name": "load_eligible",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "certifications": {
          "name": "certifications",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "requires_dot_compliance": {
          "name": "requires_dot_compliance",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "cdl_class": {
          "name": "cdl_class",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "medical_cert_expiry": {
          "name": "medical_cert_expiry",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "date_of_birth": {
          "name": "date_of_birth",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "endorsements": {
          "name": "endorsements",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "drivers_tenant_id_tenants_id_fk": {
          "name": "drivers_tenant_id_tenants_id_fk",
          "tableFrom": "drivers",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.loads": {
      "name": "loads",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "schedule_id": {
          "name": "schedule_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "load_number": {
          "name": "load_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "pickup_location": {
          "name": "pickup_location",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "delivery_location": {
          "name": "delivery_location",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "pickup_time": {
          "name": "pickup_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "delivery_time": {
          "name": "delivery_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "weight": {
          "name": "weight",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "hazmat_class": {
          "name": "hazmat_class",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "requires_placard": {
          "name": "requires_placard",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "loads_tenant_id_tenants_id_fk": {
          "name": "loads_tenant_id_tenants_id_fk",
          "tableFrom": "loads",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "loads_schedule_id_schedules_id_fk": {
          "name": "loads_schedule_id_schedules_id_fk",
          "tableFrom": "loads",
          "tableTo": "schedules",
          "columnsFrom": [
            "schedule_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "loads_load_number_unique": {
          "name": "loads_load_number_unique",
          "nullsNotDistinct": false,
          "columns": [
            "load_number"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.neural_agents": {
      "name": "neural_agents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "model": {
          "name": "model",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "system_prompt": {
          "name": "system_prompt",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "capabilities": {
          "name": "capabilities",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "last_health_check": {
          "name": "last_health_check",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "config": {
          "name": "config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.neural_decisions": {
      "name": "neural_decisions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "thought_id": {
          "name": "thought_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "agent_id": {
          "name": "agent_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "decision": {
          "name": "decision",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "reasoning": {
          "name": "reasoning",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "action_taken": {
          "name": "action_taken",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "dot_status": {
          "name": "dot_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "protected_rule_check": {
          "name": "protected_rule_check",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "outcome": {
          "name": "outcome",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "outcome_notes": {
          "name": "outcome_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_feedback": {
          "name": "user_feedback",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "neural_decisions_tenant_idx": {
          "name": "neural_decisions_tenant_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "neural_decisions_session_idx": {
          "name": "neural_decisions_session_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "neural_decisions_outcome_idx": {
          "name": "neural_decisions_outcome_idx",
          "columns": [
            {
              "expression": "outcome",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "neural_decisions_agent_idx": {
          "name": "neural_decisions_agent_idx",
          "columns": [
            {
              "expression": "agent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "neural_decisions_tenant_id_tenants_id_fk": {
          "name": "neural_decisions_tenant_id_tenants_id_fk",
          "tableFrom": "neural_decisions",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "neural_decisions_session_id_ai_chat_sessions_id_fk": {
          "name": "neural_decisions_session_id_ai_chat_sessions_id_fk",
          "tableFrom": "neural_decisions",
          "tableTo": "ai_chat_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "neural_decisions_thought_id_neural_thoughts_id_fk": {
          "name": "neural_decisions_thought_id_neural_thoughts_id_fk",
          "tableFrom": "neural_decisions",
          "tableTo": "neural_thoughts",
          "columnsFrom": [
            "thought_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "neural_decisions_agent_id_neural_agents_id_fk": {
          "name": "neural_decisions_agent_id_neural_agents_id_fk",
          "tableFrom": "neural_decisions",
          "tableTo": "neural_agents",
          "columnsFrom": [
            "agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.neural_patterns": {
      "name": "neural_patterns",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "pattern_type": {
          "name": "pattern_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subject_id": {
          "name": "subject_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "subject_type": {
          "name": "subject_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "pattern": {
          "name": "pattern",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "confidence": {
          "name": "confidence",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 50
        },
        "observations": {
          "name": "observations",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "last_observed": {
          "name": "last_observed",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "first_observed": {
          "name": "first_observed",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "evidence": {
          "name": "evidence",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'hypothesis'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "neural_patterns_tenant_idx": {
          "name": "neural_patterns_tenant_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "neural_patterns_type_idx": {
          "name": "neural_patterns_type_idx",
          "columns": [
            {
              "expression": "pattern_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "neural_patterns_subject_idx": {
          "name": "neural_patterns_subject_idx",
          "columns": [
            {
              "expression": "subject_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "neural_patterns_status_idx": {
          "name": "neural_patterns_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "neural_patterns_confidence_idx": {
          "name": "neural_patterns_confidence_idx",
          "columns": [
            {
              "expression": "confidence",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "neural_patterns_tenant_id_tenants_id_fk": {
          "name": "neural_patterns_tenant_id_tenants_id_fk",
          "tableFrom": "neural_patterns",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.neural_profiles": {
      "name": "neural_profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "learned_traits": {
          "name": "learned_traits",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "interaction_count": {
          "name": "interaction_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_updated": {
          "name": "last_updated",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "neural_profiles_tenant_idx": {
          "name": "neural_profiles_tenant_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "neural_profiles_entity_idx": {
          "name": "neural_profiles_entity_idx",
          "columns": [
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "neural_profiles_unique": {
          "name": "neural_profiles_unique",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "neural_profiles_tenant_id_tenants_id_fk": {
          "name": "neural_profiles_tenant_id_tenants_id_fk",
          "tableFrom": "neural_profiles",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.neural_routing": {
      "name": "neural_routing",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "user_input": {
          "name": "user_input",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "detected_intent": {
          "name": "detected_intent",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "routed_to": {
          "name": "routed_to",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "routing_reason": {
          "name": "routing_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "fallback_chain": {
          "name": "fallback_chain",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "response_time_ms": {
          "name": "response_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "success": {
          "name": "success",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "neural_routing_tenant_idx": {
          "name": "neural_routing_tenant_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "neural_routing_intent_idx": {
          "name": "neural_routing_intent_idx",
          "columns": [
            {
              "expression": "detected_intent",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "neural_routing_agent_idx": {
          "name": "neural_routing_agent_idx",
          "columns": [
            {
              "expression": "routed_to",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "neural_routing_session_idx": {
          "name": "neural_routing_session_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "neural_routing_tenant_id_tenants_id_fk": {
          "name": "neural_routing_tenant_id_tenants_id_fk",
          "tableFrom": "neural_routing",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "neural_routing_session_id_ai_chat_sessions_id_fk": {
          "name": "neural_routing_session_id_ai_chat_sessions_id_fk",
          "tableFrom": "neural_routing",
          "tableTo": "ai_chat_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "neural_routing_routed_to_neural_agents_id_fk": {
          "name": "neural_routing_routed_to_neural_agents_id_fk",
          "tableFrom": "neural_routing",
          "tableTo": "neural_agents",
          "columnsFrom": [
            "routed_to"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.neural_thoughts": {
      "name": "neural_thoughts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "parent_id": {
          "name": "parent_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "agent_id": {
          "name": "agent_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "thought_type": {
          "name": "thought_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "confidence": {
          "name": "confidence",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'exploring'"
        },
        "evidence": {
          "name": "evidence",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "neural_thoughts_tenant_idx": {
          "name": "neural_thoughts_tenant_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "neural_thoughts_parent_idx": {
          "name": "neural_thoughts_parent_idx",
          "columns": [
            {
              "expression": "parent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "neural_thoughts_session_idx": {
          "name": "neural_thoughts_session_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "neural_thoughts_status_idx": {
          "name": "neural_thoughts_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "neural_thoughts_expires_idx": {
          "name": "neural_thoughts_expires_idx",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "neural_thoughts_tenant_id_tenants_id_fk": {
          "name": "neural_thoughts_tenant_id_tenants_id_fk",
          "tableFrom": "neural_thoughts",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "neural_thoughts_agent_id_neural_agents_id_fk": {
          "name": "neural_thoughts_agent_id_neural_agents_id_fk",
          "tableFrom": "neural_thoughts",
          "tableTo": "neural_agents",
          "columnsFrom": [
            "agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "neural_thoughts_session_id_ai_chat_sessions_id_fk": {
          "name": "neural_thoughts_session_id_ai_chat_sessions_id_fk",
          "tableFrom": "neural_thoughts",
          "tableTo": "ai_chat_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.protected_driver_rules": {
      "name": "protected_driver_rules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "driver_id": {
          "name": "driver_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "rule_name": {
          "name": "rule_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "rule_type": {
          "name": "rule_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "blocked_days": {
          "name": "blocked_days",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "allowed_days": {
          "name": "allowed_days",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "allowed_solo_types": {
          "name": "allowed_solo_types",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "allowed_start_times": {
          "name": "allowed_start_times",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "max_start_time": {
          "name": "max_start_time",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_weekday_only": {
          "name": "is_weekday_only",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "effective_from": {
          "name": "effective_from",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "effective_to": {
          "name": "effective_to",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "is_protected": {
          "name": "is_protected",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "protected_driver_rules_tenant_driver_name_idx": {
          "name": "protected_driver_rules_tenant_driver_name_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "driver_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "rule_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "protected_driver_rules_driver_id_idx": {
          "name": "protected_driver_rules_driver_id_idx",
          "columns": [
            {
              "expression": "driver_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "protected_driver_rules_tenant_id_tenants_id_fk": {
          "name": "protected_driver_rules_tenant_id_tenants_id_fk",
          "tableFrom": "protected_driver_rules",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "protected_driver_rules_driver_id_drivers_id_fk": {
          "name": "protected_driver_rules_driver_id_drivers_id_fk",
          "tableFrom": "protected_driver_rules",
          "tableTo": "drivers",
          "columnsFrom": [
            "driver_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "rule_type_check": {
          "name": "rule_type_check",
          "value": "\"protected_driver_rules\".\"rule_type\" IN ('day_restriction', 'time_restriction', 'solo_restriction')"
        }
      },
      "isRLSEnabled": false
    },
    "public.routes": {
      "name": "routes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "origin": {
          "name": "origin",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "destination": {
          "name": "destination",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "distance": {
          "name": "distance",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_duration": {
          "name": "estimated_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_weight": {
          "name": "max_weight",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "hazmat_allowed": {
          "name": "hazmat_allowed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "routes_tenant_id_tenants_id_fk": {
          "name": "routes_tenant_id_tenants_id_fk",
          "tableFrom": "routes",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.schedules": {
      "name": "schedules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "driver_id": {
          "name": "driver_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "truck_id": {
          "name": "truck_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "route_id": {
          "name": "route_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "contract_id": {
          "name": "contract_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "scheduled_date": {
          "name": "scheduled_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "start_time": {
          "name": "start_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "end_time": {
          "name": "end_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'scheduled'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "schedules_tenant_id_tenants_id_fk": {
          "name": "schedules_tenant_id_tenants_id_fk",
          "tableFrom": "schedules",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "schedules_driver_id_drivers_id_fk": {
          "name": "schedules_driver_id_drivers_id_fk",
          "tableFrom": "schedules",
          "tableTo": "drivers",
          "columnsFrom": [
            "driver_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "schedules_truck_id_trucks_id_fk": {
          "name": "schedules_truck_id_trucks_id_fk",
          "tableFrom": "schedules",
          "tableTo": "trucks",
          "columnsFrom": [
            "truck_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "schedules_route_id_routes_id_fk": {
          "name": "schedules_route_id_routes_id_fk",
          "tableFrom": "schedules",
          "tableTo": "routes",
          "columnsFrom": [
            "route_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "schedules_contract_id_contracts_id_fk": {
          "name": "schedules_contract_id_contracts_id_fk",
          "tableFrom": "schedules",
          "tableTo": "contracts",
          "columnsFrom": [
            "contract_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.shift_occurrences": {
      "name": "shift_occurrences",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "template_id": {
          "name": "template_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "service_date": {
          "name": "service_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "scheduled_start": {
          "name": "scheduled_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "scheduled_end": {
          "name": "scheduled_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "actual_start": {
          "name": "actual_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "actual_end": {
          "name": "actual_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "tractor_id": {
          "name": "tractor_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "external_block_id": {
          "name": "external_block_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'unassigned'"
        },
        "is_carryover": {
          "name": "is_carryover",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "import_batch_id": {
          "name": "import_batch_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "pattern_group": {
          "name": "pattern_group",
          "type": "pattern_group",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "cycle_id": {
          "name": "cycle_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "shift_occurrences_tenant_template_date_idx": {
          "name": "shift_occurrences_tenant_template_date_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "template_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "service_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "shift_occurrences_time_range_idx": {
          "name": "shift_occurrences_time_range_idx",
          "columns": [
            {
              "expression": "scheduled_start",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "scheduled_end",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "shift_occurrences_pattern_idx": {
          "name": "shift_occurrences_pattern_idx",
          "columns": [
            {
              "expression": "pattern_group",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "cycle_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "shift_occurrences_external_block_id_idx": {
          "name": "shift_occurrences_external_block_id_idx",
          "columns": [
            {
              "expression": "external_block_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "shift_occurrences_template_date_idx": {
          "name": "shift_occurrences_template_date_idx",
          "columns": [
            {
              "expression": "template_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "service_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "shift_occurrences_tenant_id_tenants_id_fk": {
          "name": "shift_occurrences_tenant_id_tenants_id_fk",
          "tableFrom": "shift_occurrences",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "shift_occurrences_template_id_shift_templates_id_fk": {
          "name": "shift_occurrences_template_id_shift_templates_id_fk",
          "tableFrom": "shift_occurrences",
          "tableTo": "shift_templates",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.shift_templates": {
      "name": "shift_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "operator_id": {
          "name": "operator_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "contract_id": {
          "name": "contract_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "canonical_start_time": {
          "name": "canonical_start_time",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "default_duration": {
          "name": "default_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "default_tractor_id": {
          "name": "default_tractor_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "solo_type": {
          "name": "solo_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "pattern_group": {
          "name": "pattern_group",
          "type": "pattern_group",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "shift_templates_tenant_operator_idx": {
          "name": "shift_templates_tenant_operator_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "operator_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "shift_templates_contract_id_idx": {
          "name": "shift_templates_contract_id_idx",
          "columns": [
            {
              "expression": "contract_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "shift_templates_tenant_id_tenants_id_fk": {
          "name": "shift_templates_tenant_id_tenants_id_fk",
          "tableFrom": "shift_templates",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "shift_templates_contract_id_contracts_id_fk": {
          "name": "shift_templates_contract_id_contracts_id_fk",
          "tableFrom": "shift_templates",
          "tableTo": "contracts",
          "columnsFrom": [
            "contract_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.special_requests": {
      "name": "special_requests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "driver_id": {
          "name": "driver_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "availability_type": {
          "name": "availability_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "start_date": {
          "name": "start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "end_date": {
          "name": "end_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "start_time": {
          "name": "start_time",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "end_time": {
          "name": "end_time",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "block_type": {
          "name": "block_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contract_id": {
          "name": "contract_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "is_recurring": {
          "name": "is_recurring",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "recurring_pattern": {
          "name": "recurring_pattern",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "recurring_days": {
          "name": "recurring_days",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'approved'"
        },
        "requested_at": {
          "name": "requested_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "reviewed_at": {
          "name": "reviewed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_by": {
          "name": "reviewed_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "request_type": {
          "name": "request_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "affected_date": {
          "name": "affected_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "affected_block_id": {
          "name": "affected_block_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "swap_candidate_id": {
          "name": "swap_candidate_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "special_requests_driver_id_idx": {
          "name": "special_requests_driver_id_idx",
          "columns": [
            {
              "expression": "driver_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "special_requests_start_date_idx": {
          "name": "special_requests_start_date_idx",
          "columns": [
            {
              "expression": "start_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "special_requests_end_date_idx": {
          "name": "special_requests_end_date_idx",
          "columns": [
            {
              "expression": "end_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "special_requests_is_recurring_idx": {
          "name": "special_requests_is_recurring_idx",
          "columns": [
            {
              "expression": "is_recurring",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "special_requests_status_idx": {
          "name": "special_requests_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "special_requests_tenant_id_tenants_id_fk": {
          "name": "special_requests_tenant_id_tenants_id_fk",
          "tableFrom": "special_requests",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "special_requests_driver_id_drivers_id_fk": {
          "name": "special_requests_driver_id_drivers_id_fk",
          "tableFrom": "special_requests",
          "tableTo": "drivers",
          "columnsFrom": [
            "driver_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "special_requests_contract_id_contracts_id_fk": {
          "name": "special_requests_contract_id_contracts_id_fk",
          "tableFrom": "special_requests",
          "tableTo": "contracts",
          "columnsFrom": [
            "contract_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "special_requests_reviewed_by_users_id_fk": {
          "name": "special_requests_reviewed_by_users_id_fk",
          "tableFrom": "special_requests",
          "tableTo": "users",
          "columnsFrom": [
            "reviewed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "special_requests_affected_block_id_blocks_id_fk": {
          "name": "special_requests_affected_block_id_blocks_id_fk",
          "tableFrom": "special_requests",
          "tableTo": "blocks",
          "columnsFrom": [
            "affected_block_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "special_requests_swap_candidate_id_drivers_id_fk": {
          "name": "special_requests_swap_candidate_id_drivers_id_fk",
          "tableFrom": "special_requests",
          "tableTo": "drivers",
          "columnsFrom": [
            "swap_candidate_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "availability_type_check": {
          "name": "availability_type_check",
          "value": "\"special_requests\".\"availability_type\" IN ('available', 'unavailable')"
        },
        "status_check": {
          "name": "status_check",
          "value": "\"special_requests\".\"status\" IN ('approved', 'cancelled', 'pending', 'rejected')"
        },
        "recurring_pattern_check": {
          "name": "recurring_pattern_check",
          "value": "\"special_requests\".\"recurring_pattern\" IS NULL OR \"special_requests\".\"recurring_pattern\" IN ('every_monday', 'every_tuesday', 'every_wednesday', 'every_thursday', 'every_friday', 'every_saturday', 'every_sunday', 'every_weekend', 'every_week', 'custom')"
        },
        "block_type_check": {
          "name": "block_type_check",
          "value": "\"special_requests\".\"block_type\" IS NULL OR \"special_requests\".\"block_type\" IN ('solo1', 'solo2', 'team')"
        }
      },
      "isRLSEnabled": false
    },
    "public.tenants": {
      "name": "tenants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.trucks": {
      "name": "trucks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "truck_number": {
          "name": "truck_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "make": {
          "name": "make",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "model": {
          "name": "model",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "year": {
          "name": "year",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "fuel": {
          "name": "fuel",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "vin": {
          "name": "vin",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "license_plate": {
          "name": "license_plate",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_known_location": {
          "name": "last_known_location",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'available'"
        },
        "compliance_status": {
          "name": "compliance_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "last_inspection": {
          "name": "last_inspection",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "next_inspection": {
          "name": "next_inspection",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "usdot_number": {
          "name": "usdot_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "gvwr": {
          "name": "gvwr",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "registration_expiry": {
          "name": "registration_expiry",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "insurance_expiry": {
          "name": "insurance_expiry",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "trucks_tenant_id_tenants_id_fk": {
          "name": "trucks_tenant_id_tenants_id_fk",
          "tableFrom": "trucks",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "username": {
          "name": "username",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "password": {
          "name": "password",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'user'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "users_tenant_id_tenants_id_fk": {
          "name": "users_tenant_id_tenants_id_fk",
          "tableFrom": "users",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_username_unique": {
          "name": "users_username_unique",
          "nullsNotDistinct": false,
          "columns": [
            "username"
          ]
        },
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.pattern_group": {
      "name": "pattern_group",
      "schema": "public",
      "values": [
        "sunWed",
        "wedSat"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}